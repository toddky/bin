#!/usr/bin/env ruby
# vim: ft=ruby

# ==============================================================================
# EXAMPLE
# ==============================================================================
# $> chi 21.333 29 24 22 19 21 18 19 20 23 18 20 23
# 5.0938296535883385


# ==============================================================================
# INPUTS
# ==============================================================================
expected = ARGV.shift.to_f
observed_values = ARGV.map(&:to_f)


# ==============================================================================
# CALCULATE
# ==============================================================================
chi_squared = 0.0
observed_values.each do |observed|
	calc = ((observed - expected) ** 2) / expected
	chi_squared += calc
	next
	puts '-'
	p observed
	p calc
end

p chi_squared

